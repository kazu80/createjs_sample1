<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Sample 33</title>
    <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
    <script>
        // 読み込みが終わってから初期化
        window.addEventListener ('load', init);

        function init () {
            // 初期化
            const stage = new createjs.Stage ('myCanvas');

            createjs.Ticker.setFPS (60);
            createjs.Ticker.addEventListener ('tick', tick);

            /*
            const obj = new createjs.Shape();
            stage.addChild(obj); // 表示リストに追加

            obj.graphics.beginStroke("rgba(255,150,150,1)");
            obj.graphics.setStrokeStyle (5);

            const obj2 = new createjs.Shape ();
            stage.addChild (obj2); // 表示リストに追加

            obj2.graphics.beginStroke ('rgba(150,150,255,1)');
            obj2.graphics.setStrokeStyle (5);
            */

            const speed = 5;
            let count = 0;
            let count2 = 0;
            let cnt = 0;

            function tick (event) {
                count += speed;
                count2 += speed + 0.265;

                count += 5;
                count2 += 5.265;

                cnt += 1;

                const angle = 0.02 * count;
                const angle2 = 0.02 * count2;

                let x = (stage.canvas.width / 2);
                let y = (stage.canvas.height / 2);
                let x2 = (stage.canvas.width / 2);
                let y2 = (stage.canvas.height / 2);

                //x += (1 + angle) * Math.cos(angle * 0.25);
                //y += (1 + angle) * Math.sin(angle * 0.25);

                x += (1 + angle) * Math.cos (angle * 0.20);
                y += (1 + angle) * Math.sin (angle * 0.20);
                x2 += (1 + angle2) * Math.cos (angle2 * 0.19);
                y2 += (1 + angle2) * Math.sin (angle2 * 0.19);

                /*
                obj.graphics.lineTo(x, y);
                obj2.graphics.lineTo (x2, y2);
                */

                const obj = new createjs.Shape ();
                stage.addChild (obj); // 表示リストに追加

                obj.graphics.beginStroke ('rgba(50, 50, 50, 1)');
                obj.graphics.setStrokeStyle (4);
                obj.graphics.moveTo (x, y);
                obj.graphics.lineTo (x2, y2);

                // ボールを作成
                /*
                const ball = new createjs.Shape ();
                const r = 0.5 * (cnt * 0.01);
                ball.graphics.beginFill ('rgba(0, 0, 0, 1)').drawCircle (x, y, r);
                stage.addChild (ball);
                */

                stage.update (event);
            }
        }
    </script>
    <style>
        html,
        body {
            width  : 100%;
            height : 100%;
        }

        main {
            position : relative;
            width    : 100%;
            height   : 100%;
        }

        div {
            position  : absolute;
            top       : 50%;
            left      : 50%;
            transform : translate(-50%, -50%);
        }

        img {
            position  : absolute;
            top       : 50%;
            left      : 50%;
            transform : translate(-50%, -50%);
        }

        canvas {
            position  : absolute;
            top       : 50%;
            left      : 50%;
            transform : translate(-50%, -50%);
        }

    </style>
</head>
<body>
<img src="images/neko.jpg" width="640" height="400">
<canvas id="myCanvas" width="640" height="400"></canvas>
</body>
</html>